webpackJsonp([1],{"7vmN":function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("7+uW"),n={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var o,s,l=a("VU/8")({name:"App"},n,!1,function(e){a("7vmN")},null,null).exports,d=a("/ocq"),r=a("73D8"),c=a.n(r),u=a("LjmN"),g=a.n(u),m=a("m6he"),v=function(e,t){s.getContents("master",e,!1,function(e,a){e&&console.error(e),t(a)})},p={name:"Index",data:function(){return{loginUserName:"",loginPassword:"",loginSiteName:"",isLoginModalActive:!0,editedPagePath:void 0,editedPage:"",editedPageType:"",editedPageTemplate:"",config:[]}},methods:{login:function(){o=new c.a({username:this.loginUserName,password:this.loginPassword,auth:"basic"}),s=o.getRepo(this.loginUserName,this.loginSiteName),alert(this.loginSiteName),this.loadRepoPages(),this.isLoginModalActive=!1},savePage:function(){var e=this,t=this;"fragment"===this.editedPageType?v(this.editedPageTemplate,function(a){var i=atob(a.content),n=g.a.compile(i)({content:e.editedPage});s.writeFile("master",e.editedPagePath,e.editedPage,"edit "+e.editedPagePath,function(e){s.writeFile("master",t.editedPageDestinationPath,n,"compile "+t.editedPagePath,function(e){})})}):s.writeFile("master",this.editedPagePath,this.editedPage,"edit "+this.editedPagePath,function(e){})},loadPage:function(e,t){var a,i=this,n="",o="markdown";e.fragment&&(n=e.template,a=e.destination,e=e.fragment,o="fragment");new XMLHttpRequest;this.editedPageType=o,v(e,function(t){t=atob(t.content);i.editedPagePath=e,i.editedPage=t,i.editedPageDestinationPath=a,i.editedPageTemplate=n})},loadRepoPages:function(){var e=this;v("vue-git-cms.json",function(t){var a=JSON.parse(atob(t.content));e.config=a})}},components:{VueEditor:m.VueEditor}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"hello"},[a("b-modal",{attrs:{active:e.isLoginModalActive,"has-modal-card":"",canCancel:"false"},on:{"update:active":function(t){e.isLoginModalActive=t}}},[a("div",{staticClass:"card",staticStyle:{padding:"10px"}},[a("h1",{staticStyle:{"font-size":"18pt","font-weight":"bold"}},[e._v("Login")]),e._v(" "),a("b-field",{attrs:{label:"Name"}},[a("b-input",{model:{value:e.loginUserName,callback:function(t){e.loginUserName=t},expression:"loginUserName"}})],1),e._v(" "),a("b-field",{attrs:{label:"Password"}},[a("b-input",{attrs:{type:"password"},model:{value:e.loginPassword,callback:function(t){e.loginPassword=t},expression:"loginPassword"}})],1),e._v(" "),a("b-field",{attrs:{label:"Site Name"}},[a("b-input",{model:{value:e.loginSiteName,callback:function(t){e.loginSiteName=t},expression:"loginSiteName"}})],1),e._v(" "),a("button",{staticClass:"button is-medium is-primary saveButton",on:{click:e.login}},[e._v("\n          Login\n      ")]),e._v(" "),a("div",{staticStyle:{clear:"both"}})],1)]),e._v(" "),e._m(0),e._v(" "),a("table",{staticStyle:{width:"100%"}},[a("tr",[a("td",[a("aside",{staticClass:"menu",staticStyle:{background:"#CDCDCD"}},[a("p",{staticClass:"menu-label"},[e._v("\n            Pages\n          ")]),e._v(" "),a("ul",{staticClass:"menu-list"},e._l(e.config.fragmentedPages,function(t){return a("li",[a("a",{on:{click:function(a){e.loadPage(t)}}},[e._v(e._s(t.fragment))])])})),e._v(" "),a("p",{staticClass:"menu-label"},[e._v("\n            Documents\n          ")]),e._v(" "),a("ul",{staticClass:"menu-list"},e._l(e.config.pages,function(t){return a("li",[a("a",{on:{click:function(a){e.loadPage(t)}}},[e._v(e._s(t))])])}))])]),e._v(" "),a("td",[a("vue-editor",{model:{value:e.editedPage,callback:function(t){e.editedPage=t},expression:"editedPage"}}),e._v(" "),a("button",{staticClass:"button is-medium is-primary saveButton",on:{click:e.savePage}},[e._v("\n            Save\n        ")])],1)])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("nav",{staticClass:"navbar",staticStyle:{color:"white","background-color":"#7957D5"},attrs:{role:"navigation","aria-label":"main navigation"}},[t("div",{staticClass:"navbar-brand"},[this._v("\n      Admin\n    ")])])}]};var P=a("VU/8")(p,f,!1,function(e){a("SbIV")},"data-v-018f426f",null).exports;i.a.use(d.a);var h=new d.a({routes:[{path:"/",name:"Index",component:P}]}),b=a("MMSg"),_=a.n(b);a("doPI");i.a.use(_.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:h,components:{App:l},template:"<App/>"})},SbIV:function(e,t){},doPI:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.495506170d3a3dd3bacd.js.map